{"version":3,"sources":["/Users/kevin/Dev/_archive/@unmaintained/big-int-stats/src/toBigIntStats.ts"],"sourcesContent":["import type { BigIntStats, Stats, StatsBase } from 'fs';\nimport JSBI from 'jsbi-compat';\n\nimport BigIntStatsEmulated from './BigIntStats.ts';\n\nvar kNsPerMsBigInt = JSBI.BigInt(10 ** 6);\n\nimport type { AnyStats } from './types.ts';\n\nexport default function toBigIntStats(stats: AnyStats): BigIntStats {\n  if (typeof (stats as StatsBase<number>).dev === 'bigint') return stats as BigIntStats;\n\n  const littleStats = stats as Stats;\n  return new BigIntStatsEmulated(\n    JSBI.BigInt(littleStats.dev),\n    JSBI.BigInt(littleStats.mode),\n    JSBI.BigInt(littleStats.nlink),\n    JSBI.BigInt(littleStats.uid),\n    JSBI.BigInt(littleStats.gid),\n    JSBI.BigInt(littleStats.rdev),\n    typeof littleStats.blksize === 'undefined' ? undefined : JSBI.BigInt(littleStats.blksize),\n    JSBI.BigInt(littleStats.ino),\n    JSBI.BigInt(littleStats.size),\n    typeof littleStats.blocks === 'undefined' ? undefined : JSBI.BigInt(littleStats.blocks),\n    JSBI.multiply(JSBI.BigInt(Math.round(littleStats.atimeMs)), kNsPerMsBigInt),\n    JSBI.multiply(JSBI.BigInt(Math.round(littleStats.mtimeMs)), kNsPerMsBigInt),\n    JSBI.multiply(JSBI.BigInt(Math.round(littleStats.ctimeMs)), kNsPerMsBigInt),\n    littleStats.birthtimeMs ? JSBI.multiply(JSBI.BigInt(Math.round(littleStats.birthtimeMs)), kNsPerMsBigInt) : undefined\n  ) as unknown as BigIntStats;\n}\n"],"names":["JSBI","BigIntStatsEmulated","kNsPerMsBigInt","BigInt","toBigIntStats","stats","dev","littleStats","mode","nlink","uid","gid","rdev","blksize","undefined","ino","size","blocks","multiply","Math","round","atimeMs","mtimeMs","ctimeMs","birthtimeMs"],"mappings":"AACA,OAAOA,UAAU,cAAc;AAE/B,OAAOC,yBAAyB,mBAAmB;AAEnD,IAAIC,iBAAiBF,KAAKG,MAAM,CAAC,MAAM;AAIvC,eAAe,SAASC,cAAcC,KAAe;IACnD,IAAI,OAAO,AAACA,MAA4BC,GAAG,KAAK,UAAU,OAAOD;IAEjE,MAAME,cAAcF;IACpB,OAAO,IAAIJ,oBACTD,KAAKG,MAAM,CAACI,YAAYD,GAAG,GAC3BN,KAAKG,MAAM,CAACI,YAAYC,IAAI,GAC5BR,KAAKG,MAAM,CAACI,YAAYE,KAAK,GAC7BT,KAAKG,MAAM,CAACI,YAAYG,GAAG,GAC3BV,KAAKG,MAAM,CAACI,YAAYI,GAAG,GAC3BX,KAAKG,MAAM,CAACI,YAAYK,IAAI,GAC5B,OAAOL,YAAYM,OAAO,KAAK,cAAcC,YAAYd,KAAKG,MAAM,CAACI,YAAYM,OAAO,GACxFb,KAAKG,MAAM,CAACI,YAAYQ,GAAG,GAC3Bf,KAAKG,MAAM,CAACI,YAAYS,IAAI,GAC5B,OAAOT,YAAYU,MAAM,KAAK,cAAcH,YAAYd,KAAKG,MAAM,CAACI,YAAYU,MAAM,GACtFjB,KAAKkB,QAAQ,CAAClB,KAAKG,MAAM,CAACgB,KAAKC,KAAK,CAACb,YAAYc,OAAO,IAAInB,iBAC5DF,KAAKkB,QAAQ,CAAClB,KAAKG,MAAM,CAACgB,KAAKC,KAAK,CAACb,YAAYe,OAAO,IAAIpB,iBAC5DF,KAAKkB,QAAQ,CAAClB,KAAKG,MAAM,CAACgB,KAAKC,KAAK,CAACb,YAAYgB,OAAO,IAAIrB,iBAC5DK,YAAYiB,WAAW,GAAGxB,KAAKkB,QAAQ,CAAClB,KAAKG,MAAM,CAACgB,KAAKC,KAAK,CAACb,YAAYiB,WAAW,IAAItB,kBAAkBY;AAEhH"}