{"version":3,"sources":["/Users/kevin/Dev/_archive/@unmaintained/big-int-stats/src/toBigIntStats.ts"],"sourcesContent":["import type { BigIntStats, Stats, StatsBase } from 'fs';\nimport JSBI from 'jsbi-compat';\n\nimport BigIntStatsEmulated from './BigIntStats.ts';\n\nvar kNsPerMsBigInt = JSBI.BigInt(10 ** 6);\n\nimport type { AnyStats } from './types.ts';\n\nexport default function toBigIntStats(stats: AnyStats): BigIntStats {\n  if (typeof (stats as StatsBase<number>).dev === 'bigint') return stats as BigIntStats;\n\n  const littleStats = stats as Stats;\n  return new BigIntStatsEmulated(\n    JSBI.BigInt(littleStats.dev),\n    JSBI.BigInt(littleStats.mode),\n    JSBI.BigInt(littleStats.nlink),\n    JSBI.BigInt(littleStats.uid),\n    JSBI.BigInt(littleStats.gid),\n    JSBI.BigInt(littleStats.rdev),\n    typeof littleStats.blksize === 'undefined' ? undefined : JSBI.BigInt(littleStats.blksize),\n    JSBI.BigInt(littleStats.ino),\n    JSBI.BigInt(littleStats.size),\n    typeof littleStats.blocks === 'undefined' ? undefined : JSBI.BigInt(littleStats.blocks),\n    JSBI.multiply(JSBI.BigInt(Math.round(littleStats.atimeMs)), kNsPerMsBigInt),\n    JSBI.multiply(JSBI.BigInt(Math.round(littleStats.mtimeMs)), kNsPerMsBigInt),\n    JSBI.multiply(JSBI.BigInt(Math.round(littleStats.ctimeMs)), kNsPerMsBigInt),\n    littleStats.birthtimeMs ? JSBI.multiply(JSBI.BigInt(Math.round(littleStats.birthtimeMs)), kNsPerMsBigInt) : undefined\n  ) as unknown as BigIntStats;\n}\n"],"names":["toBigIntStats","kNsPerMsBigInt","JSBI","BigInt","stats","dev","littleStats","BigIntStatsEmulated","mode","nlink","uid","gid","rdev","blksize","undefined","ino","size","blocks","multiply","Math","round","atimeMs","mtimeMs","ctimeMs","birthtimeMs"],"mappings":";;;;+BASA;;;eAAwBA;;;iEARP;oEAEe;;;;;;;;;;AAEhC,IAAIC,iBAAiBC,mBAAI,CAACC,MAAM,CAAC,KAAA,IAAA,IAAM;AAIxB,SAASH,cAAcI,KAAe;IACnD,IAAI,SAAO,AAACA,MAA4BC,GAAG,MAAK,UAAU,OAAOD;IAEjE,IAAME,cAAcF;IACpB,OAAO,IAAIG,sBAAmB,CAC5BL,mBAAI,CAACC,MAAM,CAACG,YAAYD,GAAG,GAC3BH,mBAAI,CAACC,MAAM,CAACG,YAAYE,IAAI,GAC5BN,mBAAI,CAACC,MAAM,CAACG,YAAYG,KAAK,GAC7BP,mBAAI,CAACC,MAAM,CAACG,YAAYI,GAAG,GAC3BR,mBAAI,CAACC,MAAM,CAACG,YAAYK,GAAG,GAC3BT,mBAAI,CAACC,MAAM,CAACG,YAAYM,IAAI,GAC5B,OAAON,YAAYO,OAAO,KAAK,cAAcC,YAAYZ,mBAAI,CAACC,MAAM,CAACG,YAAYO,OAAO,GACxFX,mBAAI,CAACC,MAAM,CAACG,YAAYS,GAAG,GAC3Bb,mBAAI,CAACC,MAAM,CAACG,YAAYU,IAAI,GAC5B,OAAOV,YAAYW,MAAM,KAAK,cAAcH,YAAYZ,mBAAI,CAACC,MAAM,CAACG,YAAYW,MAAM,GACtFf,mBAAI,CAACgB,QAAQ,CAAChB,mBAAI,CAACC,MAAM,CAACgB,KAAKC,KAAK,CAACd,YAAYe,OAAO,IAAIpB,iBAC5DC,mBAAI,CAACgB,QAAQ,CAAChB,mBAAI,CAACC,MAAM,CAACgB,KAAKC,KAAK,CAACd,YAAYgB,OAAO,IAAIrB,iBAC5DC,mBAAI,CAACgB,QAAQ,CAAChB,mBAAI,CAACC,MAAM,CAACgB,KAAKC,KAAK,CAACd,YAAYiB,OAAO,IAAItB,iBAC5DK,YAAYkB,WAAW,GAAGtB,mBAAI,CAACgB,QAAQ,CAAChB,mBAAI,CAACC,MAAM,CAACgB,KAAKC,KAAK,CAACd,YAAYkB,WAAW,IAAIvB,kBAAkBa;AAEhH"}